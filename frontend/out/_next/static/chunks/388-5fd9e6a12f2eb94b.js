"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[388],{5388:function(e,l,t){t.d(l,{Z:function(){return ProductConfigurator}});var r=t(5893),a=t(7294),i=t(9508),o=t(6523),s=t(7330),n=t(2285);let d=[{name:"Classic White",value:"#f8f4ef",code:"white",image:null},{name:"Royal Gold",value:"#f1d7a3",code:"gold",image:null},{name:"Emerald Teal",value:"#1e6c64",code:"teal",image:null}],c=["Standard 5.5m"],m={hidden:{opacity:0},visible:{opacity:1}},u={hidden:{y:"100%",opacity:0},visible:{y:0,opacity:1}},normalizeColorKey=e=>e?String(e).trim().toLowerCase().replace(/\s+/g,"-"):null,resolveImageSource=e=>e?"string"==typeof e?e:Array.isArray(e)?resolveImageSource(e[0]):"object"==typeof e&&(e.src||e.url||e.image)||null:null;function ProductConfigurator(e){let{product:l,isOpen:t,onClose:h,onConfirm:x}=e,[p,g]=(0,a.useState)(null),[v,f]=(0,a.useState)(null),[b,y]=(0,a.useState)(1),[j,w]=(0,a.useState)(null),{notify:N}=(0,n.l)(),k=(0,a.useMemo)(()=>{var e,t;return(null==l?void 0:null===(e=l.colorOptions)||void 0===e?void 0:e.length)?l.colorOptions.map((e,l)=>({key:normalizeColorKey(e.code||e.value||e.name||l),name:e.name||e.label||"Color ".concat(l+1),swatch:e.value||e.hex||d[l%d.length].value})):(null==l?void 0:null===(t=l.colors)||void 0===t?void 0:t.length)?l.colors.map((e,l)=>"string"==typeof e?{key:normalizeColorKey(e),name:e,swatch:d[l%d.length].value}:{key:normalizeColorKey(e.code||e.name||l),name:e.name||"Color ".concat(l+1),swatch:e.value||e.hex||d[l%d.length].value}):d.map(e=>({key:normalizeColorKey(e.code),name:e.name,swatch:e.value}))},[l]),C=(0,a.useMemo)(()=>{var e,t;return(null==l?void 0:null===(e=l.sizeOptions)||void 0===e?void 0:e.length)?l.sizeOptions:(null==l?void 0:null===(t=l.sizes)||void 0===t?void 0:t.length)?l.sizes.map((e,l)=>"string"==typeof e?e:e.label||e.name||"Size ".concat(l+1)):c},[l]),z=(0,a.useMemo)(()=>(null==l?void 0:l.imagesByColor)?Object.entries(l.imagesByColor).reduce((e,l)=>{let[t,r]=l,a=normalizeColorKey(t),i=resolveImageSource(r);return a&&i&&(e[a]=i),e},{}):{},[l]),S=(0,a.useMemo)(()=>{var e;return resolveImageSource(null==l?void 0:l.image)||resolveImageSource(null==l?void 0:null===(e=l.images)||void 0===e?void 0:e[0])||"/images/products/placeholder.jpg"},[l]),M=(0,a.useMemo)(()=>{let e=p?z[p]:null;return(0,s.a)(e||S)},[S,z,p]);return(0,a.useEffect)(()=>{if(t){var e;let l=(null===(e=k[0])||void 0===e?void 0:e.key)||null,t=C[0]||null;g(l),f(t),y(1),w(null)}},[t,k,C]),(0,r.jsx)(i.M,{children:t&&(0,r.jsxs)(o.E.div,{className:"fixed inset-0 z-[120] flex items-end md:items-center justify-center p-0 md:p-4",variants:m,initial:"hidden",animate:"visible",exit:"hidden",transition:{duration:.2},children:[(0,r.jsx)("div",{className:"absolute inset-0 bg-black/50 backdrop-blur-sm",onClick:h}),(0,r.jsxs)(o.E.div,{variants:u,initial:"hidden",animate:"visible",exit:"hidden",transition:{type:"spring",damping:25,stiffness:300},className:"relative w-full md:max-w-3xl bg-white rounded-t-3xl md:rounded-3xl shadow-2xl overflow-hidden max-h-[90vh] md:max-h-[85vh] flex flex-col",children:[(0,r.jsx)("button",{onClick:h,className:"absolute top-4 right-4 z-10 w-10 h-10 rounded-full bg-white/90 backdrop-blur shadow-lg flex items-center justify-center text-primary-700 hover:bg-white hover:text-accent-600 transition-all","aria-label":"Close",children:(0,r.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,r.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),(0,r.jsx)("div",{className:"overflow-y-auto flex-1",children:(0,r.jsxs)("div",{className:"grid md:grid-cols-2",children:[(0,r.jsxs)("div",{className:"bg-gradient-to-br from-primary-50/80 to-accent-50/40 p-4 md:p-6 flex flex-col gap-4",children:[(0,r.jsx)("div",{className:"aspect-square md:aspect-auto md:h-64 rounded-2xl overflow-hidden bg-white shadow-lg ring-1 ring-primary-100",children:(0,r.jsx)("img",{src:M,alt:null==l?void 0:l.name,className:"w-full h-full object-cover"})}),(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs uppercase tracking-wider text-accent-600 font-semibold mb-1",children:"Configure Your Selection"}),(0,r.jsx)("h3",{className:"text-xl md:text-2xl font-display font-bold text-primary-900 leading-tight",children:null==l?void 0:l.name}),(0,r.jsx)("p",{className:"text-primary-600 text-sm mt-2 leading-relaxed",children:"Select your preferred color, size and quantity below."})]})]}),(0,r.jsxs)("div",{className:"p-4 md:p-6 space-y-5",children:[(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xs font-bold text-primary-700 uppercase tracking-wider mb-3 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-1 h-4 bg-accent-500 rounded-full"}),"Color"]}),(0,r.jsx)("div",{className:"grid grid-cols-3 gap-2 md:gap-3",children:k.map(e=>(0,r.jsxs)("button",{onClick:()=>g(e.key),className:"rounded-xl border-2 p-2 md:p-3 text-left transition-all ".concat(p===e.key?"border-accent-500 shadow-md bg-accent-50/50 scale-105":"border-primary-200 hover:border-accent-300 hover:shadow-sm"),children:[(0,r.jsx)("span",{className:"block w-8 h-8 md:w-10 md:h-10 rounded-lg border-2 border-white shadow-md mb-2",style:{backgroundColor:e.swatch||"#f5f5f5"}}),(0,r.jsx)("span",{className:"text-xs md:text-sm font-semibold text-primary-900 block leading-tight",children:e.name})]},e.key))})]}),(0,r.jsxs)("div",{children:[(0,r.jsxs)("p",{className:"text-xs font-bold text-primary-700 uppercase tracking-wider mb-3 flex items-center gap-2",children:[(0,r.jsx)("span",{className:"w-1 h-4 bg-accent-500 rounded-full"}),"Size"]}),(0,r.jsx)("div",{className:"flex flex-wrap gap-2 md:gap-3",children:C.map(e=>(0,r.jsx)("button",{onClick:()=>f(e),className:"px-4 py-2.5 rounded-xl border-2 text-sm font-semibold transition-all ".concat(v===e?"bg-primary-900 text-white border-primary-900 shadow-lg scale-105":"border-primary-200 text-primary-800 hover:border-primary-400 hover:shadow-sm"),children:e},e))})]}),(0,r.jsxs)("div",{className:"flex items-center justify-between pt-2",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("p",{className:"text-xs font-bold text-primary-700 uppercase tracking-wider mb-2",children:"Quantity"}),(0,r.jsxs)("div",{className:"flex items-center border-2 border-primary-200 rounded-full overflow-hidden shadow-sm",children:[(0,r.jsx)("button",{onClick:()=>y(e=>Math.max(1,e-1)),className:"w-10 h-10 flex items-center justify-center text-primary-700 hover:bg-primary-100 font-bold transition-colors",disabled:b<=1,children:"−"}),(0,r.jsx)("span",{className:"w-12 text-center font-bold text-primary-900",children:b}),(0,r.jsx)("button",{onClick:()=>y(e=>Math.min(5,e+1)),className:"w-10 h-10 flex items-center justify-center text-primary-700 hover:bg-primary-100 font-bold transition-colors",disabled:b>=5,children:"+"})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[(0,r.jsx)("p",{className:"text-xs text-primary-500 uppercase tracking-wider font-semibold",children:"Total"}),(0,r.jsxs)("p",{className:"text-2xl md:text-3xl font-display font-bold text-accent-600",children:["₹",(((null==l?void 0:l.price)||0)*b).toLocaleString("en-IN")]})]})]}),j&&(0,r.jsxs)(o.E.p,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"text-sm text-red-600 bg-red-50 px-4 py-3 rounded-xl border border-red-200 flex items-center gap-2",children:[(0,r.jsx)("svg",{className:"w-5 h-5 flex-shrink-0",fill:"currentColor",viewBox:"0 0 20 20",children:(0,r.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7 4a1 1 0 11-2 0 1 1 0 012 0zm-1-9a1 1 0 00-1 1v4a1 1 0 102 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})}),j]})]})]})}),(0,r.jsxs)("div",{className:"border-t border-primary-100 bg-white p-4 md:p-6 flex gap-3",children:[(0,r.jsx)("button",{onClick:h,className:"flex-1 h-12 md:h-14 rounded-xl border-2 border-primary-200 text-primary-700 font-semibold hover:bg-primary-50 hover:border-primary-300 transition-all",children:"Cancel"}),(0,r.jsx)("button",{onClick:()=>{if(!p||!v){w("Please select a color and size to continue."),N({title:"Select options first",message:"Choose both color and size before adding to cart.",type:"info"});return}let e=k.find(e=>e.key===p);w(null),x({color:(null==e?void 0:e.name)||p,size:v,quantity:b,image:M})},className:"flex-1 h-12 md:h-14 rounded-xl bg-gradient-to-r from-accent-600 to-accent-500 text-white font-bold shadow-lg hover:shadow-xl hover:from-accent-700 hover:to-accent-600 transition-all transform hover:scale-105",children:"Add to Cart"})]})]})]})})}},7330:function(e,l,t){t.d(l,{a:function(){return getImagePath}});let r="/Tantuka";function getImagePath(e){let l=e||"/images/products/placeholder.jpg";if(r&&l.startsWith(r)||l.startsWith("http"))return l;let t=l.startsWith("/")?l:"/".concat(l);return r?"".concat(r).concat(t):t}}}]);